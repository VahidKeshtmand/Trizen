@model T.Application.Dtos.Flights.EditFlightDto
@using T.Domain.Flights;
<div class="dashboard-bread dashboard--bread dashboard-bread-2">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="breadcrumb-content">
                    <div class="section-heading">
                        <h2 class="sec__title font-size-30 text-white">ویرایش پرواز جدید</h2>
                    </div>
                </div><!-- end breadcrumb-content -->
            </div><!-- end col-lg-6 -->
            <div class="col-lg-6">
                <div class="breadcrumb-list text-right">
                    <ul class="list-items">
                        <li><a asp-controller="Home" asp-action="Index" class="text-white">صفحه اصلی</a></li>
                        <li><a asp-controller="FlightManagement" asp-action="ّFlightList"
                                asp-route-airlineCompanyId="@Model.AirlineCompanyId" class="text-white">لیست پرواز
                                ها</a>
                        </li>
                        <li>ویرایش پرواز</li>
                    </ul>
                </div><!-- end breadcrumb-list -->
            </div><!-- end col-lg-6 -->
        </div><!-- end row -->
    </div>
</div><!-- end dashboard-bread -->
<!-- ================================
    START FORM AREA
================================= -->
<div class="dashboard-main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-9 mx-auto">
                <div class="listing-header">
                    <h3 class="title font-size-28">اطلاعات پرواز</h3>
                </div>
                <form method="post" enctype="multipart/form-data" data-ajax="true" data-ajax-success="OperationResult">
                    <div class="form-box">
                        <div class="form-title-wrap">
                            <h3 class="title"><i class="la la-gear mr-2 text-gray"></i>لیست اطلاعات پرواز شما</h3>
                        </div><!-- form-title-wrap -->
                        <div class="row form-content contact-form-action">

                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="FlyingFrom" class="label-text">مبدأ (شهر و کشور)</label>
                                    <div class="form-group">
                                        <span class="la la-map-marker form-icon"></span>
                                        <input asp-for="FlyingFrom" class="form-control">
                                        <input asp-for="AirlineCompanyId" type="hidden">
                                        <input asp-for="Id" type="hidden">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="AirportOrigin" class="label-text">فرودگاه مبدأ</label>
                                    <div class="form-group">
                                        <span class="la la-plane form-icon"></span>
                                        <input asp-for="AirportOrigin" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="TakeOffDate" class="label-text">تاریخ پرواز</label>
                                    <div class="form-group">
                                        <span class="la la-calendar form-icon"></span>
                                        <input asp-for="TakeOffDate" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="TakeOffTime" class="label-text">ساعت پرواز</label>
                                    <div class="form-group">
                                        <input asp-for="TakeOffTime" type="time" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="FlyingTo" class="label-text">مقصد (شهر و کشور)</label>
                                    <div class="form-group">
                                        <span class="la la-map-marker form-icon"></span>
                                        <input asp-for="FlyingTo" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="AirportDestination" class="label-text">فرودگاه مقصد</label>
                                    <div class="form-group">
                                        <span class="la la-plane form-icon"></span>
                                        <input asp-for="AirportDestination" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="LandingDate" class="label-text">تاریخ فرود</label>
                                    <div class="form-group">
                                        <span class="la la-calendar form-icon"></span>
                                        <input asp-for="LandingDate" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="ReturnTakeOffDate" class="label-text">تاریخ پرواز بازگشت (در صورت
                                        دوطرفه بودن پرواز)</label>
                                    <div class="form-group">
                                        <span class="la la-calendar form-icon"></span>
                                        <input asp-for="ReturnTakeOffDate" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="ReturnTakeOffTime" class="label-text">ساعت پرواز بازگشت
                                        (در صورت دوطرفه بودن پرواز)</label>
                                    <div class="form-group">
                                        <span class="la la-calendar form-icon"></span>
                                        <input type="time" asp-for="ReturnTakeOffTime" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6 responsive-column">
                                <div class="input-box">
                                    <label asp-for="ReturnLandingDate" class="label-text">تاریخ فرود بازگشت (در صورت
                                        دوطرفه بودن پرواز)</label>
                                    <div class="form-group">
                                        <span class="la la-calendar form-icon"></span>
                                        <input asp-for="ReturnLandingDate" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                        </div><!-- end form-content -->
                    </div><!-- end form-box -->
                    <div class="form-box">
                        <div class="form-title-wrap">
                            <h3 class="title"><i class="la la-plane mr-2 text-gray"></i>اطلاعات پرواز شما</h3>
                        </div><!-- form-title-wrap -->
                        <div class="row form-content contact-form-action">
                            <div class="col-lg-12">
                                <div class="input-box">
                                    <label asp-for="TotalTimeOfFlight" class="label-text">کل زمان پرواز (به
                                        دقیقه)</label>
                                    <div class="form-group">
                                        <span class="la la-clock form-icon"></span>
                                        <input asp-for="TotalTimeOfFlight" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-12 -->
                            <div class="col-lg-6">
                                <div class="input-box">
                                    <label asp-for="PriceRange" class="label-text">محدوده قیمت (برای هر نفر)</label>
                                    <div class="form-group">
                                        <span class="la la-money form-icon"></span>
                                        <input asp-for="PriceRange" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->
                            <div class="col-lg-6">
                                <div class="input-box">
                                    <label class="label-text">انتخاب واحد پول</label>
                                    <div class="form-group select-contain w-100">
                                        <select asp-for="CurrencyValue"
                                            asp-items='new SelectList(Model.Information.Currencies,"Id","Name")'
                                            class="select-contain-select">
                                            <option value="">-- انتخاب واحد پول --</option>
                                        </select>
                                    </div>
                                </div>
                            </div><!-- end col-lg-6 -->

                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label class="label-text">نوع پرواز</label>
                                    <div class="form-group select-contain w-100">
                                        <select asp-for="FlightType" asp-items="Html.GetEnumSelectList<FlightType>()"
                                            class="select-contain-select">
                                            <option value="">-- انتخاب--</option>
                                        </select>
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label class="label-text">نوع پرواز</label>
                                    <div class="form-group select-contain w-100">
                                        <select asp-for="Coach" asp-items="Html.GetEnumSelectList<Coach>()"
                                            class="select-contain-select">
                                            <option value="">-- انتخاب--</option>
                                        </select>
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label asp-for="Refundable" class="label-text">قابل استرداد</label>
                                    <div class="form-group">
                                        <span class="la la-briefcase form-icon"></span>
                                        <input asp-for="Refundable" class="form-control" placeholder="قابل استرداد">
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label asp-for="CancellationPrice" class="label-text">هزینه لغو</label>
                                    <div class="form-group">
                                        <span class="la la-briefcase form-icon"></span>
                                        <input asp-for="CancellationPrice" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label asp-for="SeatNumber" class="label-text">تعداد صندلی</label>
                                    <div class="form-group">
                                        <span class="la la-briefcase form-icon"></span>
                                        <input asp-for="SeatNumber" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label asp-for="BasePrice" class="label-text">قیمت پایه</label>
                                    <div class="form-group">
                                        <span class="la la-briefcase form-icon"></span>
                                        <input asp-for="BasePrice" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-4">
                                <div class="input-box">
                                    <label asp-for="TaxesAndFees" class="label-text">مالیات ها و هزینه ها</label>
                                    <div class="form-group">
                                        <span class="la la-briefcase form-icon"></span>
                                        <input asp-for="TaxesAndFees" class="form-control">
                                    </div>
                                </div>
                            </div><!-- end col-lg-4 -->
                            <div class="col-lg-12">
                                <div class="input-box">
                                    <label asp-for="Description" class="label-text mb-0 line-height-20">توضیحات
                                        پرواز</label>
                                    <p class="font-size-13 mb-3 line-height-20">حداکثر 400 کاراکتر</p>
                                    <div class="form-group">
                                        <span class="la la-pencil form-icon"></span>
                                        <textarea class="message-control form-control" asp-for="Description"></textarea>
                                    </div>
                                </div>
                            </div><!-- end col-lg-12 -->



                        </div><!-- end form-content -->
                    </div><!-- end form-box -->
                    <div class="form-box">
                        <div class="form-title-wrap">
                            <h3 class="title"><i class="la la-gift mr-2 text-gray"></i>ویژگی های پرواز</h3>
                        </div><!-- form-title-wrap -->
                        <div class="form-content contact-form-action">
                            <div class="row">
                                <div class="col-lg-6">
                                    @{
                                        var Count = Model.Information.Amenities.Count();
                                        var index = Count / 2;
                                    }
                                    @foreach (var item in Model.Information.Amenities.Take(index))
                                    {
                                        @if (Model.AmenitiesValue.Where(x => x.Key == item.Id && x.Value == "on").Any())
                                        {
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="@item.Display" name="AmenitiesValue[@item.Id]"
                                            checked>
                                                <label for="@item.Display">@item.Title</label>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="@item.Display" name="AmenitiesValue[@item.Id]">
                                                <label for="@item.Display">@item.Title</label>
                                            </div>
                                        }
                                    }
                                </div><!-- end col-lg-6 -->
                                <div class="col-lg-6">
                                    @foreach (var item in Model.Information.Amenities.Skip(index))
                                    {
                                        @if (Model.AmenitiesValue.Where(x => x.Key == item.Id && x.Value == "on").Any())
                                        {
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="@item.Display" name="AmenitiesValue[@item.Id]"
                                            checked>
                                                <label for="@item.Display">@item.Title</label>
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="@item.Display" name="AmenitiesValue[@item.Id]">
                                                <label for="@item.Display">@item.Title</label>
                                            </div>
                                        }
                                    }
                                </div><!-- end col-lg-6 -->
                            </div>
                        </div><!-- end form-content -->
                    </div><!-- end form-box -->
                    <div class="form-box">
                        <div class="form-title-wrap">
                            <h3 class="title"><i class="la la-photo mr-2 text-gray"></i>عکسی رو برای نمایش در این لیست
                                انتخاب کن</h3>
                        </div><!-- form-title-wrap -->
                        <div class="row form-content contact-form-action">
                            <div class="col-lg-12">
                                <div class="file-upload-wrap">
                                    <input asp-for="Images" type="file" class="multi file-upload-input with-preview"
                                        multiple>
                                    <span class="file-upload-text"><i class="la la-upload mr-2"></i>برای بارگذاری روی
                                        تصاویر کلیک کن یا بکش</span>
                                </div>
                            </div><!-- end col-lg-12 -->

                        </div><!-- end form-content -->
                    </div><!-- end form-box -->
                    <div class="form-title-wrap">
                        <h3 class="title"><i class="la la-photo mr-2 text-gray"></i>عکس های انتخاب شده (لطفاً از انتخاب
                            عکس تکراری خود داری کنید)</h3>
                    </div><!-- form-title-wrap -->
                    @if (Model.ImagesSrc != null)
                    {
                        <div class="form-content contact-form-action">

                            <div class="col-lg-12">

                                <div class="MultiFile-list">
                                    @foreach (var item in Model.ImagesSrc)
                                    {
                                        <span class="MultiFile-label">
                                            <span class="MultiFile-title"></span>
                                            <img class="MultiFile-preview" src="@item"
                                        style="max-height:100px; max-width:100px;" />
                                        </span>
                                    }
                                </div>

                            </div><!-- end col-lg-12 -->
                    </div><!-- end form-content -->
                    }
                    <div class="submit-box">
                        <div class="btn-box pt-3">
                            <button type="submit" class="theme-btn">ارسال لیست <i
                                    class="la la-arrow-right ml-1"></i></button>
                        </div>
                    </div><!-- end submit-box -->
                </form>



            </div><!-- end col-lg-9 -->
        </div><!-- end row -->
    </div><!-- end container -->
</div>
<!-- ================================
    END FORM AREA
================================= -->
@section Css
{
<link rel="stylesheet" href="~/css/toastr.min.css">
}
@section Scripts
{
<script src="https://cdn.ckeditor.com/4.13.0/standard-all/ckeditor.js"></script>
<script>
    CKEDITOR.replace('Description', {
        language: 'fa',
        contentsLangDirection: 'rtl',
        height: 270,
    });
</script>
@{
await Html.RenderPartialAsync("_ValidationScriptsPartial");
}
<script src="~/Theme/js/jquery.multi-file.min.js"></script>
<script src="~/js/toastr.min.js"></script>
<script src="~/js/custom-alert.js" asp-append-version="true"></script>
}
