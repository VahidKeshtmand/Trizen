@using T.Website.Endpoint.Models.Hotel
@model T.Application.Dtos.Common.PaginatedItemsDto<T.Website.Endpoint.Models.Hotel.HotelListViewModel>
<!-- ================================
    START BREADCRUMB AREA
================================= -->
<section class="breadcrumb-area bread-bg-7">
    <div class="breadcrumb-wrap">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="search-result-content">
                        <div class="section-heading">
                            <h2 class="sec__title text-white">نتایج جستجوی هتل</h2>
                        </div>
                        @await Component.InvokeAsync("SearchHotelList")
                    </div><!-- end search-result-content -->
                </div><!-- end col-lg-12 -->
            </div><!-- end row -->
        </div><!-- end container -->
    </div><!-- end breadcrumb-wrap -->
    <div class="bread-svg-box">
        <svg class="bread-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 10" preserveAspectRatio="none">
            <polygon points="100 0 50 10 0 0 0 10 100 10"></polygon>
        </svg>
    </div><!-- end bread-svg -->
</section><!-- end breadcrumb-area -->
<!-- ================================
    END BREADCRUMB AREA
================================= -->

<!-- ================================
    START CARD AREA
================================= -->
<section class="card-area section--padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="filter-wrap margin-bottom-30px">
                    <div class="filter-top d-flex align-items-center justify-content-between pb-4">
                        <div>
                            <h3 class="title font-size-24">@Model.Data.Count() هتل پیدا شد</h3>
                            <p class="font-size-14"><span class="mr-1 pt-1">با اطمینان رزرو کن : </span>بدون هزینه رزرو
                            </p>
                        </div>
                    </div><!-- end filter-top -->
                </div><!-- end filter-wrap -->
            </div><!-- end col-lg-12 -->
        </div><!-- end row -->
        <div class="row">
            @foreach (var item in Model.Data)
            {
                <div class="col-lg-4 responsive-column">
                    <div class="card-item">
                        <div class="card-img">
                            <a asp-controller="Hotel" asp-action="Detail" asp-route-slug="@item.Slug"
                            asp-route-city="@item.City" class="d-block">
                                <img src="@item.ImageSrc" alt="hotel-img">
                            </a>
                            <span class="badge">پرفروش ترین </span>
                            <div class="add-to-wishlist icon-element" data-toggle="tooltip" data-placement="top"
                            title="نشان کردن">
                                <i class="la la-heart-o"></i>
                            </div>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"><a asp-controller="Hotel" asp-action="Detail"
                                asp-route-slug="@item.Slug" asp-route-city="@item.City">@item.Name</a></h3>
                            <p class="card-meta">@item.Address</p>
                            <div class="card-rating">
                                <span class="badge text-white">@item.UserRate/5</span>
                                <span class="review__text">متوسط</span>
                                <span class="rating__text">(@item.CommentCount نظر)</span>
                            </div>
                            <div class="card-price d-flex align-items-center justify-content-between">
                                <p>
                                    <span class="price__from">از </span>
                                    <span class="price__num">@item.LowestPrice.ToString("n0") تومان </span>
                                    <span class="price__text">برای یک شب</span>
                                </p>
                                <a href="hotel-single.html" class="btn-text">مشاهده جزئیات<i
                                    class="la la-angle-left"></i></a>
                            </div>
                        </div>
                    </div><!-- end card-item -->
            </div><!-- end col-lg-4 -->
            }
        </div><!-- end row -->
        
        @{
            var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
            var nextDisabled = !Model.HasNextPage ? "disabled" : "";
        }

        <div class="row">
            <div class="col-lg-12">
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                        <li class="page-item @prevDisabled">
                            <a class="page-link page-link-nav" asp-action="Index" asp-controller="Hotel"
                                aria-label="Previous" asp-route-pageIndex="@(Model.PageIndex - 1)">
                                <span aria-hidden="true"><i class="la la-angle-right"></i></span>
                                <span class="sr-only">قبلی</span>
                            </a>
                        </li>
                        @foreach (var item in Model.Pager.Pages)
                        {
                            @if (item == Model.PageIndex)
                            {
                                <li class="page-item active">
                                    <a class="page-link page-link-nav" asp-action="Index" asp-controller="Hotel"
                                asp-route-pageIndex="@item">@item<span class="sr-only">(جاری)</span></a>
                                </li>
                            }
                            else
                            {
                                <li class="page-item"><a class="page-link page-link-nav " asp-controller="Hotel" asp-action="Index"
                                asp-route-pageIndex="@item">@item</a></li>
                            }
                        }
                        <li class="page-item @nextDisabled">
                            <a class="page-link page-link-nav" asp-action="RoomsList" asp-controller="Hotel"
                                asp-route-pageIndex="@(Model.PageIndex + 1)" aria-label="Next">
                                <span aria-hidden="true"><i class="la la-angle-left"></i></span>
                                <span class="sr-only">بعدی</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div><!-- end container -->
</section><!-- end card-area -->
<!-- ================================
    END CARD AREA
================================= -->

<div class="section-block"></div>

<!-- ================================
    START INFO AREA
================================= -->
<section class="info-area info-bg padding-top-90px padding-bottom-70px">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 responsive-column">
                <a href="#" class="icon-box icon-layout-2 d-flex">
                    <div class="info-icon flex-shrink-0 bg-rgb text-color-2">
                        <i class="la la-phone"></i>
                    </div><!-- end info-icon-->
                    <div class="info-content">
                        <h4 class="info__title"> راهنمایی لازم داری؟ با ما تماس بگیر</h4>
                        <p class="info__desc">
                            لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ است.
                        </p>
                    </div><!-- end info-content -->
                </a><!-- end icon-box -->
            </div><!-- end col-lg-4 -->
            <div class="col-lg-4 responsive-column">
                <a href="#" class="icon-box icon-layout-2 d-flex">
                    <div class="info-icon flex-shrink-0 bg-rgb-2 text-color-3">
                        <i class="la la-money"></i>
                    </div><!-- end info-icon-->
                    <div class="info-content">
                        <h4 class="info__title">پرداخت ها</h4>
                        <p class="info__desc">
                            لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ است.
                        </p>
                    </div><!-- end info-content -->
                </a><!-- end icon-box -->
            </div><!-- end col-lg-4 -->
            <div class="col-lg-4 responsive-column">
                <a href="#" class="icon-box icon-layout-2 d-flex">
                    <div class="info-icon flex-shrink-0 bg-rgb-3 text-color-4">
                        <i class="la la-times"></i>
                    </div><!-- end info-icon-->
                    <div class="info-content">
                        <h4 class="info__title">کنسلی تور</h4>
                        <p class="info__desc">
                            لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ است.
                        </p>
                    </div><!-- end info-content -->
                </a><!-- end icon-box -->
            </div><!-- end col-lg-4 -->
        </div><!-- end row -->
    </div><!-- end container -->
</section><!-- end info-area -->
<!-- ================================
    END INFO AREA
================================= -->

<!-- ================================
    START CTA AREA
================================= -->
<section class="cta-area subscriber-area section-bg-2 padding-top-60px padding-bottom-60px">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-7">
                <div class="cta-content">
                    <div class="section-heading">
                        <h2 class="sec__title font-size-30 text-white">از پیشنهاد های شگفت انگیزمون جا نمونی !<br>
                            دریافت تخفیف های شگفتانه فقط از طریق ایمیل .
                        </h2>
                    </div><!-- end section-heading -->
                </div>
            </div><!-- end col-lg-7 -->
            <div class="col-lg-5">
                <div class="subscriber-box">
                    <div class="contact-form-action">
                        <form action="#">
                            <div class="input-box">
                                <label class="label-text text-white">آدرس ایمیلت رو وارد کن</label>
                                <div class="form-group mb-0">
                                    <span class="la la-envelope form-icon"></span>
                                    <input class="form-control" type="email" name="email" placeholder="آدرس ایمیل">
                                    <button class="theme-btn theme-btn-small submit-btn" type="submit">عضویت</button>
                                    <span class="font-size-15 pt-1 text-white-50"><i class="la la-lock mr-1"></i>نگران
                                        نباش اطلاعاتت پیش ما امنه. </span>
                                </div>
                            </div>
                        </form>
                    </div>
                </div><!-- end section-heading -->
            </div><!-- end col-lg-5 -->
        </div><!-- end row -->
    </div><!-- end container -->
</section><!-- end cta-area -->
<!-- ================================
    END CTA AREA
================================= -->